<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cytoscape Web 2.0</title>

    <script>
      const loadConfig = async () => {
        const response = await fetch('/app-config.json')
        const appConfig = await response.json()
        console.log('APP config Loaded', appConfig, response.url)
        return appConfig
      }

      const loadApps = async () => {
        const config = await loadConfig()
        const appUrls = config.appUrls
        appUrls.forEach(async (url) => {
          console.log('APP URL:', url)
          try {
            const appModule = await import(url)
            console.log('DYNAMIC ES Module Loading::::', appModule)
            const def1 = appModule.default
          } catch (e) {
            console.warn(`Fail to load the app from: ${url}`, e)
          }
        })
      }
      window.loadApps = loadApps
    </script>
  </head>
  <body>
    <div id="root"></div>

    <!-- this div is needed by the glide-data-grid to render the table browser-->
    <div id="portal" style="position: fixed; left: 0; top: 0; z-index: 9999" />
  </body>
</html>
